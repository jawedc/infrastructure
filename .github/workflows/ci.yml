name: ci
on: [push, pull_request]

jobs:
  ansible-syntax:
    runs-on: self-hosted
    steps:
      - uses: actions/checkout@v4     # clone le repo
      - name: Install Ansible core
        run: |
          pip install ansible-core
      - name: Syntax-check
        run: ansible-playbook -i iac/ansible/inventory/proxmox.yml iac/ansible/playbooks/site.yml --syntax-check
